{"ast":null,"code":"var _jsxFileName = \"/Users/solomonmcharo/Desktop/Javascript-stuff/huduma-chap-chap/client/src/components/userHomepage.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios'; // import styled from 'styled-components'\n\nimport Tasks from '../components/Tasks/tasks';\nimport Requests from '../components/Requests/requests';\nimport { Button } from 'react-bootstrap'; // import {Link, Redirect} from 'react-router-dom'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass UserHomepage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: [],\n      viewTasks: false,\n      viewRequests: false,\n      viewReviews: false,\n      task: [],\n      request: []\n    };\n\n    this.togglePersonHandler = () => {\n      const doesShow = this.state.viewTasks;\n      this.setState({\n        viewTasks: !doesShow\n      });\n    };\n\n    this.toggleRequestHandler = () => {\n      const doesShow = this.state.viewRequests;\n      this.setState({\n        viewRequests: !doesShow\n      });\n    };\n\n    this.logOutHandler = () => {\n      localStorage.removeItem(\"thisToken\");\n      window.location.replace(\"/\");\n    };\n  }\n\n  componentWillMount() {\n    if (localStorage.getItem(\"thisToken\") === \"Bearer \" || !localStorage.getItem(\"thisToken\")) {\n      window.location.replace(\"/login\");\n    }\n  }\n\n  componentDidMount() {\n    let config = {\n      headers: {\n        Authorization: localStorage.getItem(\"thisToken\")\n      }\n    };\n    axios.get('http://localhost:3000/users/me', config, {}).then(response => {\n      this.setState({\n        user: response.data\n      });\n      console.log(this.state.user.name);\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n    axios.get('http://localhost:3000/tasks', config, {}).then(response => {\n      this.setState({\n        task: response.data\n      });\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n    axios.get('http://localhost:3000/mytasks', config, {}).then(response => {\n      this.setState({\n        request: response.data\n      });\n    }).catch(function (error) {\n      console.log(error.message);\n    });\n  }\n\n  render() {\n    const style = {\n      \"display\": \"flex\",\n      \"flexWrap\": \"wrap\"\n    };\n    let mytasks = null;\n    let myRequests = null;\n\n    if (this.state.viewTasks) {\n      mytasks = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: style,\n        children: /*#__PURE__*/_jsxDEV(Tasks, {\n          thetasks: this.state.task\n        }, this.state.task.length, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this);\n    }\n\n    if (this.state.viewRequests) {\n      myRequests = /*#__PURE__*/_jsxDEV(\"div\", {\n        style: style,\n        children: /*#__PURE__*/_jsxDEV(Requests, {\n          thetasks: this.state.request\n        }, this.state.task.length, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 22\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcome \", this.state.user.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.state.user.userType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: this.state.user.occupation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"You have \", this.state.task.length, \" new job requests\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.togglePersonHandler,\n        children: \"View requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 14\n      }, this), mytasks, /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.toggleRequestHandler,\n        children: \"View services requested\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 14\n      }, this), myRequests, /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"log out below\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: this.logOutHandler,\n        children: \"Log Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 10\n    }, this);\n  }\n\n}\n\nexport default UserHomepage;","map":{"version":3,"sources":["/Users/solomonmcharo/Desktop/Javascript-stuff/huduma-chap-chap/client/src/components/userHomepage.js"],"names":["React","Component","axios","Tasks","Requests","Button","UserHomepage","state","user","viewTasks","viewRequests","viewReviews","task","request","togglePersonHandler","doesShow","setState","toggleRequestHandler","logOutHandler","localStorage","removeItem","window","location","replace","componentWillMount","getItem","componentDidMount","config","headers","Authorization","get","then","response","data","console","log","name","catch","error","message","render","style","mytasks","myRequests","length","userType","occupation"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\n// import styled from 'styled-components'\nimport Tasks from '../components/Tasks/tasks'\nimport Requests from '../components/Requests/requests'\nimport {Button} from 'react-bootstrap'\n// import {Link, Redirect} from 'react-router-dom'\n\nclass UserHomepage extends Component{\n   state = {\n       user: [],\n       viewTasks: false,\n       viewRequests: false,\n       viewReviews: false,\n       task:[],\n       request:[]\n   }\n\n   componentWillMount(){\n    if(localStorage.getItem(\"thisToken\") === \"Bearer \" || !localStorage.getItem(\"thisToken\")){\n        window.location.replace(\"/login\")\n    }\n   }\n\n   togglePersonHandler = () =>{\n    const doesShow = this.state.viewTasks;\n    this.setState({viewTasks: !doesShow});\n   }\n\n\n   toggleRequestHandler = () =>{\n    const doesShow = this.state.viewRequests;\n    this.setState({viewRequests: !doesShow});\n   }\n   \n   componentDidMount(){\n    let config = {\n        headers: {\n        Authorization: localStorage.getItem(\"thisToken\"),\n        }\n    }\n\n    axios.get('http://localhost:3000/users/me', config, {\n    })\n    .then((response) => {\n      this.setState({user:response.data})\n      console.log(this.state.user.name)\n    })\n    .catch(function (error) {\n      console.log(error.message);\n      \n    });\n\n    axios.get('http://localhost:3000/tasks', config, {\n      })\n      .then((response) =>{\n        this.setState({task:response.data})\n      })\n      .catch(function (error) {\n        console.log(error.message);\n        \n      });\n    \n      axios.get('http://localhost:3000/mytasks', config, {\n      })\n      .then((response) =>{\n        this.setState({request:response.data})\n      })\n      .catch(function (error) {\n        console.log(error.message);\n        \n      });\n\n   }\n    \n   logOutHandler = () => {\n        localStorage.removeItem(\"thisToken\")\n        window.location.replace(\"/\")\n   }\n   \n\n\n    render (){\n        const style = {\n            \"display\" : \"flex\",\n            \"flexWrap\" : \"wrap\",\n            \n          }\n\n        let mytasks = null\n        let myRequests = null\n    if(this.state.viewTasks){\n    mytasks = ( <div style={style}> \n       \n        \n        <Tasks \n        thetasks = {this.state.task}\n        key = {this.state.task.length}\n         />\n         \n\n    </div>\n    )\n    }\n    if(this.state.viewRequests){\n      myRequests = ( <div style={style}> \n         \n          \n          <Requests \n          thetasks = {this.state.request}\n          key = {this.state.task.length}\n           />\n           \n  \n      </div>\n      )\n      }\n        return (\n         <div>\n             <h1>Welcome {this.state.user.name}</h1>\n             <h2>{this.state.user.userType}</h2>\n             <h3>{this.state.user.occupation}</h3>\n             <p>You have {this.state.task.length} new job requests</p>\n             <Button onClick={this.togglePersonHandler}>View requests</Button>\n             {mytasks}\n             <p></p>\n             <Button onClick={this.toggleRequestHandler}>View services requested</Button>\n             {myRequests}\n             <p>log out below</p>\n             <Button onClick={this.logOutHandler}>Log Out</Button>\n       </div>\n        );\n        }\n    }\n        \n\nexport default UserHomepage"]},"metadata":{},"sourceType":"module"}