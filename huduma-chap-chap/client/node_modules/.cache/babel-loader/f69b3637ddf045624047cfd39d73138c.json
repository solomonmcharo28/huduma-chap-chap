{"ast":null,"code":"var _jsxFileName = \"/Users/solomonmcharo/Desktop/Javascript-stuff/huduma-chap-chap/client/src/components/Requests/Request/request.js\";\nimport React, { Component } from 'react'; // import './Person.css';\n\nimport axios from 'axios';\nimport './request.css';\nimport { FaUserAlt, FaCheck } from 'react-icons/fa';\nimport styled from 'styled-components';\nimport { Button } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport PaymentModal from '../../Modals/paymentmodal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledDiv = styled.div`\n\nwidth: 20%;\nmargin: 16px auto;\nborder: 1px hidden #eee;\nbox-shadow: 0 4px 4px black;\ndisplay : block;\npadding: 16px;\ntext-align: center;\nfont-family: Poppins;\ntransition: ease-in 0.1s;\n@media (min-width: 500px){\n        width:450px;\n    }\n&:hover{\n  box-shadow: 0 4px 4px white;\n\n    }\n`;\n_c = StyledDiv;\n\nclass Task extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      id: this.props.id,\n      show: false,\n      edit: false\n    };\n\n    this.deleteTask = props => {\n      let config = {\n        headers: {\n          Authorization: localStorage.getItem(\"thisToken\")\n        }\n      };\n      let check = window.confirm(\"Are you sure you want to delete this task?\");\n\n      if (check == true) {\n        axios.delete('http://localhost:3000/tasks/' + this.props.id, config).then(response => {\n          console.log(response.data);\n        }).catch(error => {\n          console.log(error.message);\n          this.setState({\n            validLogin: false\n          });\n        });\n      }\n    };\n\n    this.acceptTask = props => {\n      let config = {\n        headers: {\n          Authorization: localStorage.getItem(\"thisToken\")\n        }\n      };\n      const data = {\n        accepted: true,\n        editOwner: true\n      };\n      let check = window.confirm(\"Are you sure you want to accept this request?\");\n\n      if (check == true) {\n        axios.patch('http://localhost:3000/tasks/' + this.props.id, data, config).then(response => {\n          console.log(response.data);\n          this.setState({\n            edit: true\n          });\n        }).catch(error => {\n          console.log(error.message);\n        });\n      }\n    };\n\n    this.toggleShow = props => {\n      const currShow = this.state.show;\n      this.setState({\n        show: !currShow\n      });\n    };\n  }\n\n  render() {\n    const url = \"/connect?id=\";\n    const todayDate = Date.now();\n    console.log(this.props.dueDate);\n    const newDate = new Date(this.props.dueDate);\n    let modal1 = [];\n    let accepted = null;\n\n    if (this.state.show) {\n      modal1 = /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(PaymentModal, {\n          id: this.props.id,\n          toShow: this.state.show\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 13\n      }, this);\n    }\n\n    if (this.props.accepted) {\n      accepted = \"Accepted\";\n    } else {\n      accepted = \"Pending...\";\n    }\n\n    return /*#__PURE__*/_jsxDEV(StyledDiv, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: this.props.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this), accepted, /*#__PURE__*/_jsxDEV(\"hr\", {\n        className: \"line\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Billing Method: \", !this.props.billingMethod ? \"Pending\" : this.props.billingMethod, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 3\n      }, this), modal1, /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Hours: \", !this.props.hours ? \"Pending\" : this.props.hours, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Payment Method: \", !this.props.paymentMethod ? /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.toggleShow,\n          children: \"Add method\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 50\n        }, this) : this.props.paymentMethod, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Due Date : \", Math.floor((newDate - todayDate) / (1000 * 3600 * 24)), \" days\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Details: \", this.props.message]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 4\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-success\",\n        onClick: this.acceptTask,\n        children: [\" Confirm \", /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 71\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 4\n      }, this), \" \", /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn-danger\",\n        onClick: this.deleteTask,\n        disabled: this.props.edit,\n        children: \"Reject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 4\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default Task;\n\nvar _c;\n\n$RefreshReg$(_c, \"StyledDiv\");","map":{"version":3,"sources":["/Users/solomonmcharo/Desktop/Javascript-stuff/huduma-chap-chap/client/src/components/Requests/Request/request.js"],"names":["React","Component","axios","FaUserAlt","FaCheck","styled","Button","Link","PaymentModal","StyledDiv","div","Task","state","id","props","show","edit","deleteTask","config","headers","Authorization","localStorage","getItem","check","window","confirm","delete","then","response","console","log","data","catch","error","message","setState","validLogin","acceptTask","accepted","editOwner","patch","toggleShow","currShow","render","url","todayDate","Date","now","dueDate","newDate","modal1","description","billingMethod","hours","paymentMethod","Math","floor"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\n// import './Person.css';\nimport axios from 'axios';\nimport './request.css'\nimport {FaUserAlt, FaCheck} from  'react-icons/fa'\nimport styled from 'styled-components'\nimport {Button} from 'react-bootstrap'\nimport {Link} from 'react-router-dom'\nimport PaymentModal from '../../Modals/paymentmodal'\nconst StyledDiv = styled.div`\n\nwidth: 20%;\nmargin: 16px auto;\nborder: 1px hidden #eee;\nbox-shadow: 0 4px 4px black;\ndisplay : block;\npadding: 16px;\ntext-align: center;\nfont-family: Poppins;\ntransition: ease-in 0.1s;\n@media (min-width: 500px){\n        width:450px;\n    }\n&:hover{\n  box-shadow: 0 4px 4px white;\n\n    }\n`;\nclass Task extends Component{\n   state = {\n        id : this.props.id,\n        show: false,\n        edit: false,\n\n   }\n    deleteTask = (props) =>{\n        let config = {\n            headers:{\n              Authorization: localStorage.getItem(\"thisToken\")\n            }\n          }\n     let check = window.confirm(\"Are you sure you want to delete this task?\");\n     if(check == true){\n        axios.delete('http://localhost:3000/tasks/'+this.props.id , config)\n        .then((response) => {\n          console.log(response.data)\n      \n        })\n        .catch( (error) => {\n          console.log(error.message);\n          this.setState({validLogin: false})\n          \n        });\n       \n        \n    }\n     }\n    acceptTask = (props) =>{\n        let config = {\n            headers:{\n              Authorization: localStorage.getItem(\"thisToken\")\n            }\n          }\n        const data = {\n            accepted: true,\n            editOwner: true,\n        }\n        let check = window.confirm(\"Are you sure you want to accept this request?\")\n        if(check == true){\n        axios.patch('http://localhost:3000/tasks/'+this.props.id , data, config)\n        .then((response) => {\n          console.log(response.data)\n            this.setState({edit: true});\n        })\n        .catch( (error) => {\n          console.log(error.message);\n          \n          \n        });\n       \n    }\n    }\n\n    \n    toggleShow = (props) =>{\n        const currShow = this.state.show;\n        this.setState({show: !currShow});\n    }\n    render() {\n    const url = \"/connect?id=\" \n    const todayDate = Date.now()\n    console.log(this.props.dueDate)\n    const newDate =  new Date(this.props.dueDate)\n    let modal1 =[]\n    let accepted = null\n    if(this.state.show){\n        modal1 = (\n            <div>\n            <PaymentModal id={this.props.id} toShow={this.state.show} />\n            </div>\n        );\n    }\n    if(this.props.accepted){\n      accepted = \"Accepted\"\n    }\n    else{\n      accepted = \"Pending...\"\n    }\n\n   return (\n   \n    <StyledDiv >\n        <h2>{this.props.description}</h2>\n        <hr className=\"line\"></hr>\n        {accepted}\n        <hr className=\"line\"></hr>\n  <p>Billing Method: {!this.props.billingMethod? \"Pending\" : this.props.billingMethod} </p> \n    {modal1}\n  <p>Hours: {!this.props.hours? \"Pending\":this.props.hours } </p> \n  <p>Payment Method: {!this.props.paymentMethod? <Button onClick={this.toggleShow}>Add method</Button> : this.props.paymentMethod} </p> \n   <p>Due Date : {Math.floor((newDate- todayDate)/(1000*3600*24))} days</p>\n   <p>Details: {this.props.message}</p>\n   <Button className=\"btn-success\" onClick={this.acceptTask}> Confirm <FaCheck/></Button>{\" \"}\n   <Button className=\"btn-danger\" onClick={this.deleteTask} disabled={this.props.edit}>Reject</Button>\n   \n\n   </StyledDiv> \n   \n   );\n   }\n}\n\nexport default Task;"]},"metadata":{},"sourceType":"module"}